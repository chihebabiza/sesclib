<%- include('../parts/head') %>

    <body>
        <section class="colored-section" id="update-submajor">
            <div class="container-fluid min-vh-100">
                <form class="mx-auto login-form form" action="/dashboard/submajor/update/<%= submajor._id %>"
                    method="POST">
                    <h4 class="form-heading">Update Submajor</h4>

                    <div class="input-group mb-3">
                        <span class="input-group-text">
                            <i class="fa-solid fa-tag"></i>
                        </span>
                        <input type="text" name="name" class="form-control" placeholder="Submajor Name"
                            value="<%= submajor.name %>" required>
                    </div>

                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fa-solid fa-briefcase"></i>
                        </span>
                        <select name="majorId" class="form-control" required>
                            <option selected disabled hidden>Select your specialty</option>
                            <% majors.forEach(major=> { %>
                                <option value="<%= major._id %>" <%=major._id.toString()===submajor.major.toString()
                                    ? 'selected' : '' %> >
                                    <%= major.name %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">
                            <i class="fa-solid fa-calendar"></i>
                        </span>
                        <div class="form-control">
                            <label class="h6 fw-bold">Select Years:</label>
                            <ul class="list-unstyled">
                                <% years.forEach(year=> { %>
                                    <li>
                                        <input type="checkbox" name="years" value="<%= year._id %>"
                                            id="year-<%= year.name %>" <%=submajor.years.includes(year._id) ? 'checked'
                                            : '' %> >
                                        <label for="year-<%= year.name %>">
                                            <%= year.name %>
                                        </label>
                                    </li>
                                    <% }); %>
                            </ul>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary login-btn">Update Submajor</button>
                    <p class="form-text">Want to go back? <a href="/dashboard/submajors" class="form-link">View
                            Submajors</a></p>
                </form>
            </div>
        </section>
    </body>

    </html>